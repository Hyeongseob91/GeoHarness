(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let s="http://localhost:8000/api/v1";function l(){let[e,l]=(0,a.useState)(""),[n,o]=(0,a.useState)([]),[c,i]=(0,a.useState)(null),[d,x]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[f,g]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1),w=(0,a.useRef)(null),N=(0,a.useRef)(null),k=(0,a.useRef)(null),C=(0,a.useRef)(null),_=(0,a.useRef)(null),T=(0,a.useRef)(null),R=(0,a.useRef)([]),S=(0,a.useRef)(null);(0,a.useEffect)(()=>{fetch(`${s}/maps-keys`).then(e=>e.json()).then(e=>{e.success&&(e.data?.google_maps_key&&p(e.data.google_maps_key),e.data?.naver_client_id&&h(e.data.naver_client_id))}).catch(()=>{})},[]),(0,a.useEffect)(()=>{if(!m||f)return;let e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${m}&language=ko`,e.async=!0,e.onload=()=>g(!0),document.head.appendChild(e)},[m,f]),(0,a.useEffect)(()=>{if(!u||b)return;let e=document.createElement("script");e.src=`https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=${u}`,e.async=!0,e.onload=()=>v(!0),document.head.appendChild(e)},[u,b]);let L=(0,a.useCallback)(e=>{(l(e),w.current&&clearTimeout(w.current),e.length<2)?o([]):w.current=setTimeout(async()=>{try{let t=await fetch(`${s}/search/autocomplete?q=${encodeURIComponent(e)}`),a=await t.json();o(a.predictions||[])}catch{o([])}},300)},[]),M=(0,a.useCallback)(async t=>{let a=t||e;if(a.trim()){x(!0),o([]);try{let e=await fetch(`${s}/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a})}),t=await e.json();t.places?.length>0&&(i(t.places[0]),y(!1))}catch(e){console.error(e)}finally{x(!1)}}},[e]);return(0,a.useEffect)(()=>{if(!c)return;let e=c.corrected,t=c.original,a=c.naver_location??e;if(b&&N.current&&window.naver&&window.naver.maps){let e=new window.naver.maps.LatLng(a.lat,a.lng);C.current?C.current.setCenter(e):C.current=new window.naver.maps.Map(N.current,{center:e,zoom:17}),T.current?T.current.setPosition(e):T.current=new window.naver.maps.Marker({position:e,map:C.current})}if(f&&k.current){_.current||(_.current=new google.maps.Map(k.current,{center:t,zoom:17,styles:r,disableDefaultUI:!0,zoomControl:!0}));let a=_.current;R.current.forEach(e=>e.setMap(null)),R.current=[],S.current?.setMap(null);let s=new google.maps.Marker({position:t,map:a,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#ff5555",fillOpacity:.9,strokeColor:"#fff",strokeWeight:2},title:"âŒ êµ¬ê¸€ (í‹€ë¦¼)",zIndex:1});if(R.current.push(s),j){let s=new google.maps.Marker({position:e,map:a,icon:{path:google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#0df07a",fillOpacity:.95,strokeColor:"#fff",strokeWeight:2},title:"âœ… ML ë³´ì •",zIndex:2}),l=new google.maps.Polyline({path:[t,e],map:a,strokeColor:"#0df07a",strokeOpacity:.85,strokeWeight:3,icons:[{icon:{path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,scale:3,fillColor:"#0df07a",fillOpacity:1},offset:"100%"}]});R.current.push(s),S.current=l;let r=new google.maps.LatLngBounds;r.extend(t),r.extend(e),a.fitBounds(r,60);let n=google.maps.event.addListener(a,"idle",()=>{(a.getZoom()??0)>18&&a.setZoom(18),google.maps.event.removeListener(n)})}else a.setCenter(t),a.setZoom(17)}},[c,f,b,j]),(0,t.jsxs)("div",{className:"flex flex-col h-screen bg-[var(--bg)]",children:[(0,t.jsxs)("header",{className:"flex items-center gap-3 px-5 py-3 border-b border-[var(--border)] bg-[var(--panel)] z-30 flex-shrink-0",children:[(0,t.jsxs)("h1",{className:"text-lg font-bold whitespace-nowrap",children:["ðŸŒ ",(0,t.jsx)("span",{className:"text-[var(--accent)]",children:"Geo"}),"Harness"]}),(0,t.jsxs)("div",{className:"relative flex-1 max-w-xl",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>L(e.target.value),onKeyDown:e=>"Enter"===e.key&&M(),placeholder:"ìž¥ì†Œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš” (ì˜ˆ: ì²œìƒê°€ì˜¥, ì˜¤ìš°ë„)",className:"w-full bg-[var(--bg)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm placeholder:text-[var(--text-muted)] focus:outline-none focus:border-[var(--accent)] transition-colors"}),n.length>0&&(0,t.jsx)("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-[var(--panel)] border border-[var(--border)] rounded-lg overflow-hidden z-40 shadow-xl",children:n.map(e=>(0,t.jsxs)("li",{className:"px-4 py-2.5 text-sm cursor-pointer hover:bg-[var(--accent-dim)] transition-colors",onClick:()=>{l(e.main_text),o([]),M(e.description)},children:[(0,t.jsx)("span",{className:"font-medium",children:e.main_text}),(0,t.jsx)("span",{className:"text-[var(--text-muted)] text-xs ml-2",children:e.description.replace(e.main_text,"").replace(/^,?\s*/,"")})]},e.place_id))})]}),(0,t.jsx)("button",{onClick:()=>M(),disabled:d,className:"px-5 py-2.5 bg-[var(--accent)] text-black font-semibold rounded-lg text-sm hover:brightness-110 disabled:opacity-50 transition-all whitespace-nowrap",children:d?"â³":"ðŸ” ê²€ìƒ‰"}),(0,t.jsx)("span",{className:"text-xs text-[var(--text-muted)] hidden md:block",children:"Powered by Gemini + ML"})]}),c?(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-1 flex min-h-0",children:[(0,t.jsxs)("div",{className:"w-1/2 relative border-r-2 border-[var(--accent)]",children:[(0,t.jsx)("div",{className:"absolute top-3 left-3 z-10 flex gap-2",children:(0,t.jsx)("span",{className:"bg-[var(--accent)] text-black text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:c.naver_location?"âœ… ë„¤ì´ë²„ ì§€ë„ (ì‹¤ì œ ìœ„ì¹˜ ì¢Œí‘œ)":"ðŸ“ ë„¤ì´ë²„ ì§€ë„ (ë³´ì • ì¢Œí‘œ ì‚¬ìš©)"})}),(0,t.jsx)("div",{ref:N,className:"w-full h-full"})]}),(0,t.jsxs)("div",{className:"w-1/2 relative bg-black/10",children:[(0,t.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,t.jsx)("span",{className:"bg-[var(--danger)] text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:"âŒ êµ¬ê¸€ ì§€ë„ (ì—…ë°ì´íŠ¸ ì•ˆë¨)"})}),j&&(0,t.jsxs)("div",{className:"absolute top-3 right-3 z-10 bg-black/70 backdrop-blur-sm border border-[var(--border)] rounded-lg p-2.5 text-xs animate-in fade-in",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"w-3 h-3 rounded-full bg-[#ff5555] inline-block"}),(0,t.jsx)("span",{children:"êµ¬ê¸€ ì¢Œí‘œ (í‹€ë¦¼)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 rounded-full bg-[#0df07a] inline-block"}),(0,t.jsx)("span",{children:"ML ë³´ì • (ì‹¤ì œ)"})]}),c.naver_location&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)("span",{className:"w-3 h-3 rounded-full bg-[#4a9eff] inline-block"}),(0,t.jsx)("span",{children:"ë„¤ì´ë²„ ì¢Œí‘œ"})]})]}),!j&&(0,t.jsx)("div",{className:"absolute bottom-6 right-6 z-20",children:(0,t.jsx)("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-[var(--accent)] text-black font-extrabold rounded-full shadow-[0_0_20px_rgba(13,240,122,0.6)] hover:scale-105 transition-all animate-pulse",children:"âœ¨ ML ë¡œì§ìœ¼ë¡œ ì¢Œí‘œ ë³´ì •í•˜ê¸°"})}),j&&c&&(0,t.jsxs)("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${c.corrected.lat},${c.corrected.lng}`,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-6 right-6 z-20 px-5 py-3 bg-[var(--blue)] text-white font-bold rounded-full text-sm shadow-lg hover:bg-blue-500 hover:shadow-blue-500/50 transition-all flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"ðŸ“"})," êµ¬ê¸€ë§µ ê¸¸ì°¾ê¸°"]}),(0,t.jsx)("div",{ref:k,className:"w-full h-full"})]})]}),(0,t.jsxs)("div",{className:"flex-shrink-0 bg-[var(--panel)] border-t border-[var(--border)] px-6 py-4 flex items-center justify-between gap-8",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0 max-w-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-bold truncate leading-tight",children:c.name}),(0,t.jsx)("p",{className:"text-xs text-[var(--text-muted)] truncate mt-1",children:c.address})]}),j?(0,t.jsxs)("div",{className:"flex items-center gap-12 animate-in slide-in-from-right-8 opacity-100",children:[(0,t.jsx)("div",{className:"text-center flex-shrink-0",children:null!=c.sync_score?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:`text-4xl font-black ${c.sync_score>90?"text-[var(--accent)]":"text-[var(--warning)]"}`,children:[c.sync_score,(0,t.jsx)("span",{className:"text-xl font-normal ml-0.5",children:"%"})]}),(0,t.jsx)("p",{className:"text-xs font-medium text-[var(--text-muted)] mt-1 tracking-wider uppercase",children:"ë„¤ì´ë²„-êµ¬ê¸€ ì •í•©ë„"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-4xl font-black text-[var(--text-muted)]",children:"N/A"}),(0,t.jsx)("p",{className:"text-xs font-medium text-[var(--text-muted)] mt-1 tracking-wider uppercase",children:"ë„¤ì´ë²„ ë°ì´í„° ì—†ìŒ"})]})}),(0,t.jsxs)("div",{className:"text-center flex-shrink-0",children:[(0,t.jsxs)("p",{className:"text-4xl font-extrabold text-[#ff5555]",children:[c.correction_distance_m.toFixed(1),(0,t.jsx)("span",{className:"text-xl font-normal ml-1",children:"m"})]}),(0,t.jsx)("p",{className:"text-xs font-medium text-[var(--text-muted)] mt-1 tracking-wider uppercase",children:"ê³µê°„ ì˜¤ì°¨"})]})]}):(0,t.jsx)("div",{className:"text-[var(--text-muted)] text-sm italic font-medium w-[400px] text-center",children:"ML ë³´ì • ê¸°ëŠ¥ì„ ì ìš©í•˜ì—¬ ì‹¤ì œ ìœ„ì¹˜ì™€ ì¢Œí‘œ íŽ¸ì°¨ë¥¼ í™•ì¸í•˜ì„¸ìš”."})]})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 text-center px-6",children:[(0,t.jsx)("p",{className:"text-5xl",children:"ðŸ—ºï¸"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"êµ¬ê¸€ ì§€ë„ëŠ” í•œêµ­ì—ì„œ í‹€ë¦½ë‹ˆë‹¤"}),(0,t.jsxs)("p",{className:"text-sm text-[var(--text-muted)] max-w-lg leading-relaxed",children:["ðŸ‡°ðŸ‡· í•œêµ­ ê·œì œë¡œ êµ¬ê¸€ ì§€ë„ëŠ” ìˆ˜ë…„ê°„ ì—…ë°ì´íŠ¸ë˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.",(0,t.jsx)("br",{}),"ì„±ìˆ˜ë™ì²˜ëŸ¼ ë¹ ë¥´ê²Œ ë³€í™”í•œ ë™ë„¤ì—ì„œ ê´€ê´‘ê°ì€ ê¸¸ì„ ìžƒìŠµë‹ˆë‹¤.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)("strong",{className:"text-[var(--accent)]",children:"GeoHarness"}),"ëŠ” MLë¡œ ì¢Œí‘œë¥¼ ë³´ì •í•˜ì—¬ ",(0,t.jsx)("strong",{children:"ì‹¤ì œ ìœ„ì¹˜"}),"ë¥¼ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤."]}),(0,t.jsx)("div",{className:"flex gap-2 mt-4 flex-wrap justify-center",children:["ì²œìƒê°€ì˜¥","ì˜¤ìš°ë„","ì„œìš¸ë¡œì¸ ì„œìš¸ìˆ²ì ","ëª¨ë‚˜ë¯¸ìŠ¤í† ì–´ ì„±ìˆ˜ì ","í•˜ì´ë¼ì¸ ì„±ìˆ˜"].map(e=>(0,t.jsx)("button",{onClick:()=>{l(e),M(e)},className:"px-3 py-1.5 bg-[var(--border)] rounded-full text-xs hover:bg-[var(--accent-dim)] transition-colors",children:e},e))})]})]})}let r=[{elementType:"geometry",stylers:[{color:"#1a1a2e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a1a2e"}]},{elementType:"labels.text.fill",stylers:[{color:"#8888aa"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#2a2a4a"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3a3a5a"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1626"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#1e1e3e"}]}];e.s(["default",()=>l])}]);