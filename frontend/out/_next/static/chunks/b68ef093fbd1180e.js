(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(47167),r=e.i(43476),a=e.i(71645);let l=t.default.env.NEXT_PUBLIC_API_BASE||"/api/v1",s={verified:{icon:"âœ…",label:"ì˜ì—… ì¤‘ í™•ì¸",color:"var(--verified)",bg:"rgba(13,240,122,0.12)"},warning:{icon:"âš ï¸",label:"ì´ì „ ê°€ëŠ¥ì„±",color:"var(--warning)",bg:"rgba(255,171,0,0.12)"},not_found:{icon:"âŒ",label:"íì—… ì¶”ì •",color:"var(--not-found)",bg:"rgba(255,85,85,0.12)"}};function n(){let[e,t]=(0,a.useState)(""),[n,c]=(0,a.useState)([]),[i,d]=(0,a.useState)(null),[x,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)([]),[h,f]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),w=(0,a.useRef)(null),_=(0,a.useRef)(null),k=(0,a.useRef)(null),C=(0,a.useRef)(null),T=(0,a.useRef)(null),S=(0,a.useRef)(null),E=(0,a.useRef)([]);(0,a.useEffect)(()=>{fetch(`${l}/maps-keys`).then(e=>e.json()).then(e=>{e.success&&(e.data?.google_maps_key&&f(e.data.google_maps_key),e.data?.naver_client_id&&b(e.data.naver_client_id))}).catch(()=>{})},[]),(0,a.useEffect)(()=>{if(!h||g)return;let e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${h}&language=ko`,e.async=!0,e.onload=()=>y(!0),document.head.appendChild(e)},[h,g]),(0,a.useEffect)(()=>{if(!v||j)return;let e=document.createElement("script");e.src=`https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=${v}`,e.async=!0,e.onload=()=>N(!0),document.head.appendChild(e)},[v,j]);let R=(0,a.useCallback)(e=>{(t(e),w.current&&clearTimeout(w.current),e.length<2)?c([]):w.current=setTimeout(async()=>{try{let t=await fetch(`${l}/search/autocomplete?q=${encodeURIComponent(e)}`),r=await t.json();c(r.predictions||[])}catch{c([])}},300)},[]),$=(0,a.useCallback)(async t=>{let r=t||e;if(r.trim()){w.current&&(clearTimeout(w.current),w.current=null),m(!0),c([]);try{let e=await fetch(`${l}/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r})}),t=await e.json();if(t.places?.length>0){let e=t.places[0];d(e),p(t=>[{query:r,name:e.name,status:e.status},...t.filter(e=>e.query!==r)])}}catch(e){console.error(e)}finally{m(!1)}}},[e]);(0,a.useEffect)(()=>{i||(T.current=null,C.current=null,S.current=null,E.current=[])},[i]),(0,a.useEffect)(()=>{if(!i)return;let e=i.original,t=i.naver_location;if(g&&k.current){T.current?(T.current.setCenter(e),T.current.setZoom(17)):T.current=new google.maps.Map(k.current,{center:e,zoom:17,styles:o,disableDefaultUI:!0,zoomControl:!0});let t=T.current;E.current.forEach(e=>e.setMap(null)),E.current=[];let r="verified"===i.status?"#0df07a":"warning"===i.status?"#ffab00":"#ff5555",a=new google.maps.Marker({position:e,map:t,icon:{path:google.maps.SymbolPath.CIRCLE,scale:10,fillColor:r,fillOpacity:.9,strokeColor:"#fff",strokeWeight:2},title:`${i.name} (Google)`});E.current.push(a)}if(j&&_.current&&window.naver&&window.naver.maps){let r=t?new window.naver.maps.LatLng(t.lat,t.lng):new window.naver.maps.LatLng(e.lat,e.lng);C.current?C.current.setCenter(r):C.current=new window.naver.maps.Map(_.current,{center:r,zoom:17}),S.current?S.current.setPosition(r):S.current=new window.naver.maps.Marker({position:r,map:C.current})}},[i,g,j]);let P=i?s[i.status]:null;return(0,r.jsxs)("div",{className:"flex flex-col h-screen bg-[var(--bg)]",children:[(0,r.jsxs)("header",{className:"flex items-center gap-3 px-5 py-3 border-b border-[var(--border)] bg-[var(--panel)] z-30 flex-shrink-0",children:[i&&(0,r.jsx)("button",{onClick:()=>d(null),className:"text-lg text-[var(--text-muted)] hover:text-[var(--text)] transition-colors","aria-label":"ë’¤ë¡œê°€ê¸°",children:"â†"}),(0,r.jsxs)("h1",{className:"text-lg font-bold whitespace-nowrap cursor-pointer",onClick:()=>{d(null),t(""),c([])},children:[(0,r.jsx)("span",{className:"text-[var(--accent)]",children:"Geo"}),"Harness"]}),(0,r.jsxs)("div",{className:"relative flex-1 max-w-xl",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>R(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),$())},placeholder:"ìž¥ì†Œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš” (ì˜ˆ: ì²œìƒê°€ì˜¥, ë¸”ë£¨ë³´í‹€ ì„±ìˆ˜)",className:"w-full bg-[var(--bg)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm placeholder:text-[var(--text-muted)] focus:outline-none focus:border-[var(--accent)] transition-colors"}),n.length>0&&(0,r.jsx)("ul",{className:"absolute top-full left-0 right-0 mt-1 bg-[var(--panel)] border border-[var(--border)] rounded-lg overflow-hidden z-40 shadow-xl",children:n.map(e=>(0,r.jsxs)("li",{className:"px-4 py-2.5 text-sm cursor-pointer hover:bg-[var(--accent-dim)] transition-colors",onClick:()=>{t(e.main_text),c([]),$(e.description)},children:[(0,r.jsx)("span",{className:"font-medium",children:e.main_text}),(0,r.jsx)("span",{className:"text-[var(--text-muted)] text-xs ml-2",children:e.description.replace(e.main_text,"").replace(/^,?\s*/,"")})]},e.place_id))})]}),(0,r.jsx)("button",{onClick:()=>$(),disabled:x,className:"px-5 py-2.5 bg-[var(--accent)] text-black font-semibold rounded-lg text-sm hover:brightness-110 disabled:opacity-50 transition-all whitespace-nowrap",children:x?"...":"ê²€ìƒ‰"})]}),(0,r.jsxs)("div",{className:"flex-1 flex min-h-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:i?(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[P&&(0,r.jsx)("div",{className:"flex-shrink-0 px-6 py-4 border-b border-[var(--border)] animate-fade-in",style:{background:P.bg},children:(0,r.jsxs)("div",{className:"flex items-start gap-4 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 text-center",children:[(0,r.jsx)("p",{className:"text-4xl",children:P.icon}),(0,r.jsx)("p",{className:"text-xs font-bold mt-1",style:{color:P.color},children:P.label}),(0,r.jsxs)("p",{className:"text-[10px] text-[var(--text-muted)] mt-0.5",children:[Math.round(100*i.status_confidence),"%"]})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h2",{className:"text-lg font-bold truncate",children:i.name}),(0,r.jsx)("p",{className:"text-xs text-[var(--text-muted)] truncate mt-0.5",children:i.address}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:P.color},children:i.status_reason}),i.naver_name&&(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-[var(--text-muted)]",children:[(0,r.jsxs)("span",{children:["ë„¤ì´ë²„ ë§¤ì¹­: ",(0,r.jsx)("strong",{className:"text-[var(--text)]",children:i.naver_name}),null!=i.name_similarity&&(0,r.jsxs)("span",{className:"ml-1 text-[var(--text-muted)]",children:["(ìœ ì‚¬ë„ ",Math.round(100*i.name_similarity),"%)"]})]}),i.naver_category&&(0,r.jsx)("span",{children:i.naver_category}),i.naver_phone&&(0,r.jsxs)("span",{children:["ðŸ“ž ",i.naver_phone]}),i.naver_link&&(0,r.jsx)("a",{href:i.naver_link,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--blue)] hover:underline",children:"ðŸ”— ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤"})]})]})]})}),(0,r.jsxs)("div",{className:"flex-1 flex min-h-0",children:[(0,r.jsxs)("div",{className:"w-1/2 relative border-r border-[var(--border)]",children:[(0,r.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,r.jsx)("span",{className:"bg-[var(--panel)] border border-[var(--border)] text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:"ðŸ“ êµ¬ê¸€ ì§€ë„"})}),(0,r.jsx)("div",{ref:k,className:"w-full h-full"})]}),(0,r.jsxs)("div",{className:"w-1/2 relative",children:[(0,r.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,r.jsx)("span",{className:`text-xs font-bold px-3 py-1.5 rounded-full shadow-lg ${i.naver_location?"bg-[var(--accent)] text-black":"bg-[var(--panel)] border border-[var(--border)]"}`,children:i.naver_location?"âœ… ë„¤ì´ë²„ í™•ì¸ ì¢Œí‘œ":"ðŸ“ ë„¤ì´ë²„ (ì¢Œí‘œ ì—†ìŒ)"})}),(0,r.jsx)("div",{ref:_,className:"w-full h-full"})]})]})]}):(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-5 text-center px-6",children:[(0,r.jsx)("p",{className:"text-5xl",children:"ðŸª"}),(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"ì´ ê°€ê²Œ, ì•„ì§ ìžˆì„ê¹Œ?"}),(0,r.jsxs)("p",{className:"text-sm text-[var(--text-muted)] max-w-lg leading-relaxed",children:["êµ¬ê¸€ ì§€ë„ì—ì„œ ì°¾ì€ í•œêµ­ ìž¥ì†Œê°€ ì‹¤ì œë¡œ ì¡´ìž¬í•˜ëŠ”ì§€",(0,r.jsx)("br",{}),"ë„¤ì´ë²„ ë°ì´í„°ì™€ êµì°¨ê²€ì¦í•©ë‹ˆë‹¤."]}),(0,r.jsxs)("p",{className:"text-xs text-[var(--text-muted)] max-w-md",children:["í•œêµ­ ë‚´ êµ¬ê¸€ POIì˜ ",(0,r.jsx)("strong",{className:"text-[var(--warning)]",children:"31%"}),"ëŠ” íì—…Â·ì´ì „ë˜ì—ˆì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤."]}),(0,r.jsx)("div",{className:"flex gap-2 mt-4 flex-wrap justify-center",children:["ë³µì‹ì»¤í”¼","ì•„ë¬´íŠ¼ê²¨ìš¸","ëšì„¬ë¯¸ìˆ ê´€","í•˜ì´ë¼ì¸ ì„±ìˆ˜"].map(e=>(0,r.jsx)("button",{onClick:()=>{t(e),$(e)},className:"px-3 py-1.5 bg-[var(--border)] rounded-full text-xs hover:bg-[var(--accent-dim)] transition-colors",children:e},e))})]})}),(0,r.jsxs)("aside",{className:"w-56 flex-shrink-0 border-l border-[var(--border)] bg-[var(--panel)] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-3 py-2.5 border-b border-[var(--border)]",children:[(0,r.jsx)("span",{className:"text-xs font-bold text-[var(--text-muted)]",children:"ê²€ìƒ‰ ê¸°ë¡"}),u.length>0&&(0,r.jsx)("button",{onClick:()=>p([]),className:"text-[var(--text-muted)] hover:text-[var(--text)] text-xs transition-colors","aria-label":"ì „ì²´ ì‚­ì œ",children:"âœ•"})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===u.length?(0,r.jsx)("p",{className:"text-xs text-[var(--text-muted)] text-center mt-8 px-3",children:"ê²€ìƒ‰ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤"}):(0,r.jsx)("ul",{children:u.map((e,a)=>(0,r.jsxs)("li",{onClick:()=>{t(e.name),$(e.query)},className:"flex items-center gap-2 px-3 py-2 text-xs cursor-pointer hover:bg-[var(--accent-dim)] transition-colors border-b border-[var(--border)]",children:[(0,r.jsx)("span",{className:"flex-shrink-0",children:s[e.status].icon}),(0,r.jsx)("span",{className:"truncate",children:e.name})]},`${e.query}-${a}`))})})]})]})]})}let o=[{elementType:"geometry",stylers:[{color:"#1a1a2e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a1a2e"}]},{elementType:"labels.text.fill",stylers:[{color:"#8888aa"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#2a2a4a"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3a3a5a"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1626"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#1e1e3e"}]}];e.s(["default",()=>n])}]);